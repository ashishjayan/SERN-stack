(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,n){e.exports=n(59)},35:function(e,t,n){},39:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),l=n.n(c),o=(n(35),n(5)),s=n.n(o),u=n(7),i=n(8),p=n(9),m=n(11),f=n(10),h=n(12),E=n(62),d=n(63),N=n(60),b=(n(39),n(23)),j=n.n(b),O=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(v,null),r.a.createElement(S,null))}}]),t}(a.Component),v=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(E.a,{exact:!0,activeClassName:"current",to:"/app",onClick:this.forceUpdate},"Employee List")),r.a.createElement("li",null,r.a.createElement(E.a,{exact:!0,activeClassName:"current",onClick:this.forceUpdate,to:"/app/department"},"Department List"))))}}]),t}(a.Component),y=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(m.a)(this,Object(f.a)(t).call(this,e))).handleChange=function(e){console.log("selected ".concat(e))},n.callApi=Object(u.a)(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/employee");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,n.setState({users:a,post:a[0].SSN}),200===t.status){e.next=9;break}throw Error(a.message);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)})),n.handleSubmit=function(){var e=Object(u.a)(s.a.mark(function e(t){var a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({showResults:!0}),console.log("working"),t.preventDefault(),e.next=5,fetch("/api/specificEmployee",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({post:n.state.post})});case 5:return a=e.sent,e.next=8,a.json();case 8:r=e.sent,n.setState({responseToPost:r}),console.log(n.state.responseToPost);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.change=function(e){n.setState({post:e.target.value})},n.checkNULL=function(e){return"  NULL"===e?"":e},n.state={users:[],response:"",post:"",responseToPost:[],showResults:!1},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.callApi().then(function(t){return e.setState({response:t.express})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this,t=null;return this.state.showResults&&(t=r.a.createElement("div",null,this.state.responseToPost.map(function(t){return r.a.createElement("strong",{key:t.FNAME},t.FNAME," ",e.checkNULL(t.MINIT),","," ",t.LNAME," ")}))),r.a.createElement("div",{className:"App"},r.a.createElement("h4",null,"Get Employee Details for :"),r.a.createElement("select",{onChange:this.change},this.state.users.map(function(e){return r.a.createElement("option",{key:e.SSN,value:e.SSN},e.SSN)})),r.a.createElement("button",{onClick:this.handleSubmit},"CLICK ME"),t)}}]),t}(a.Component),I=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(m.a)(this,Object(f.a)(t).call(this,e))).callApi=Object(u.a)(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/department");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,n.setState({departments:a}),200===t.status){e.next=9;break}throw Error(a.message);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}},e,this)})),n.handleClick=function(e){console.log(e)},n.state={departments:[],metaData:null,departmentInfo:null,departLocationInfo:null,projectInfo:null,employeeInfo:null,managerInfo:null},n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"fetchDetails",value:function(){var e=Object(u.a)(s.a.mark(function e(t){var n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/specificDepartment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({post:t.DNUMBER})});case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,this.setState({departLocationInfo:a.departLocationInfo[0],departmentInfo:a.departmentInfo[0],projectInfo:a.projectInfo[0],employeeInfo:a.employeeInfo[0],managerInfo:a.managerInfo[0]}),200===n.status){e.next=9;break}throw Error(a.message);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.callApi().then(function(t){return e.setState({response:t.express})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return console.log(this.state.departments),r.a.createElement("div",{className:"App"},r.a.createElement("tbody",null,r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Department Name "),r.a.createElement("th",null," Department Number")),this.state.departments.map(function(t,n){return r.a.createElement("tr",{key:n,onClick:function(){return e.fetchDetails(t)}},r.a.createElement("td",{"data-title":"DNAME"},t.DNAME),r.a.createElement("td",{"data-title":"DNUMBER"},t.DNUMBER))})),this.state.departmentInfo&&this.state.managerInfo?r.a.createElement("div",null,r.a.createElement("p",null,"Department : ".concat(this.state.departmentInfo[0].DNAME)),r.a.createElement("p",null,"Manager : ".concat(this.state.managerInfo[0].LNAME,", ").concat(this.state.managerInfo[0].FNAME)),r.a.createElement("p",null,"Manager Start Date : ".concat(j()(this.state.departmentInfo[0].MGRSTARTDATE).format("L")))):null,this.state.departLocationInfo?r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Department Location ")),this.state.departLocationInfo.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{"data-title":"DLOCATIONN"},e.DLOCATION))})):null,this.state.projectInfo?r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Project Number "),r.a.createElement("th",null," Project Name"),r.a.createElement("th",null," Project Location")),this.state.projectInfo.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{"data-title":"PNUMBER"},e.PNUMBER),r.a.createElement("td",{"data-title":"PNAME"},e.PNAME),r.a.createElement("td",{"data-title":"PLOCATION"},e.PLOCATION))})):null,this.state.employeeInfo?r.a.createElement("table",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Employee SSN "),r.a.createElement("th",null," Last Name"),r.a.createElement("th",null," First Name")),this.state.employeeInfo.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{"data-title":"SSN"},e.SSN),r.a.createElement("td",{"data-title":"LNAME"},e.LNAME),r.a.createElement("td",{"data-title":"FNAME"},e.FNAME))})):null))}}]),t}(a.Component),k=function(){return r.a.createElement("div",{className:"contact"},r.a.createElement("p",null,"Dank"))},S=function(){return r.a.createElement(d.a,null,r.a.createElement(N.a,{exact:!0,path:"/app",component:y}),r.a.createElement(N.a,{exact:!0,path:"/app/department",component:I}),r.a.createElement(N.a,{exact:!0,path:"/app/delete",component:k}))},g=O,A=n(6),L=Object(A.c)({}),M=n(28),x=n(61),D=n(27),w=n.n(D),C=Object(A.a)(w.a)(A.d);l.a.render(r.a.createElement(M.a,{store:C(L)},r.a.createElement(x.a,null,r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(N.a,{exact:!0,path:"/",component:g}),r.a.createElement(N.a,{path:"/app",component:g}))))),document.getElementById("root"))}},[[30,2,1]]]);
//# sourceMappingURL=main.8029220e.chunk.js.map